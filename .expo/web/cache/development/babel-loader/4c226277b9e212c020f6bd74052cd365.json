{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Login;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _reactNative = require(\"react-native\");\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _ButtonGreen = _interopRequireDefault(require(\"./Buttons/ButtonGreen\"));\nvar _userDB = require(\"../utils/userDB\");\nvar _formik = require(\"formik\");\nvar Yup = _interopRequireWildcard(require(\"yup\"));\nvar _Actions = require(\"../Redux/Actions\");\nvar _axios = _interopRequireDefault(require(\"axios\"));\nvar _jsxFileName = \"/Users/miranda/Documents/No country/c7-40-m-reactnative/src/screens/Login.js\";\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction Login(props) {\n  var navigation = props.navigation;\n\n  var _useFormik = (0, _formik.useFormik)({\n      initialValues: {\n        email: \"\",\n        password: \"\"\n      },\n      validationSchema: Yup.object({\n        email: Yup.string().email('Su email debe ser valido').required('El email es obligatorio'),\n        password: Yup.string().required('La contraseña es obligatorio')\n      }),\n      onSubmit: function onSubmit(formValue) {\n        _axios.default.post('https://tester-server-production.up.railway.app/api/v1/users/login', formValue).then(function (response) {\n          if (response) {\n            console.log(response.data.status);\n            if (response.data.status === 'success') {\n              navigation.navigate(\"Inicio\");\n            } else {\n              alert('Vuelva a ingresar la contraseña');\n            }\n          }\n        }).catch(function (error) {\n          console.log('error dispach', error);\n          navigation.replace(\"Login\");\n        });\n      }\n    }),\n    errors = _useFormik.errors,\n    values = _useFormik.values,\n    handleSubmit = _useFormik.handleSubmit,\n    setFieldValue = _useFormik.setFieldValue;\n\n  var _useState = (0, _react.useState)(''),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    email = _useState2[0],\n    useEmail = _useState2[1];\n  var _useState3 = (0, _react.useState)(''),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    password = _useState4[0],\n    usePassword = _useState4[1];\n\n  var goBack = function goBack() {\n    navigation.goBack(\"Home\");\n  };\n  return _react.default.createElement(_reactNative.View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_reactNative.View, {\n    style: styles.containerForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, \"Email\"), _react.default.createElement(_reactNative.TextInput, {\n    style: errors.email ? styles.inputError : styles.input,\n    placeholder: \"Ingresa tu email\",\n    keyboardType: \"email-address\",\n    autoCapitalize: \"none\",\n    value: values.email,\n    onChangeText: function onChangeText(text) {\n      return setFieldValue('email', text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(_reactNative.Text, {\n    style: styles.textError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, errors.email), _react.default.createElement(_reactNative.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, \"Contrase\\xF1a\"), _react.default.createElement(_reactNative.TextInput, {\n    style: errors.password ? styles.inputError : styles.input,\n    placeholder: \"Ingresa tu contrase\\xF1a\",\n    onChangeText: function onChangeText(text) {\n      return setFieldValue(\"password\", text);\n    },\n    keyboardType: \"password\",\n    value: values.password,\n    secureTextEntry: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(_reactNative.Text, {\n    style: styles.textError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, errors.password), _react.default.createElement(_reactNative.View, {\n    style: styles.button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(_ButtonGreen.default, {\n    title: \"Login\",\n    onPress: handleSubmit,\n    text: \"Iniciar Sesi\\xF3n\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  })), _react.default.createElement(_reactNative.View, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, \"Me olvide la Contrase\\xF1a.\"))));\n}\n\nvar styles = _reactNative.StyleSheet.create({\n  container: {\n    backgroundColor: \"#F7FDFD\",\n    width: \"100%\",\n    flex: 1,\n    alignContent: \"center\",\n    alignItems: \"center\"\n  },\n  input: {\n    height: 44,\n    width: 286,\n    borderRadius: 3,\n    borderWidth: 0,\n    padding: 10,\n    backgroundColor: \"#DAF4F0\",\n    paddingRight: 10,\n    marginVertical: 10\n  },\n  containerForm: {\n    alignSelf: \"center\",\n    flex: 1,\n    flexDirection: \"column\",\n    backgroundColor: \"#F7FDFD\",\n    justifyContent: \"center\"\n  },\n  button: {\n    margin: 20,\n    paddingTop: 50\n  },\n  text: {\n    textAlign: \"center\",\n    alignSelf: \"center\",\n    color: \"#F7FDFD\"\n  },\n  buttonVolver: {\n    alignItems: \"flex-end\"\n  },\n  inputError: {\n    height: 44,\n    width: 286,\n    borderRadius: 3,\n    borderWidth: 0,\n    padding: 10,\n    backgroundColor: \"#DAF4F0\",\n    paddingRight: 10,\n    marginVertical: 10,\n    borderColor: '#CC5252',\n    borderWidth: 1\n  },\n  textError: {\n    color: \"#CC5252\"\n  }\n});","map":{"version":3,"names":["Login","props","navigation","useFormik","initialValues","email","password","validationSchema","Yup","object","string","required","onSubmit","formValue","axios","post","then","response","console","log","data","status","navigate","alert","catch","error","replace","errors","values","handleSubmit","setFieldValue","useState","useEmail","usePassword","goBack","styles","container","containerForm","inputError","input","text","textError","button","StyleSheet","create","backgroundColor","width","flex","alignContent","alignItems","height","borderRadius","borderWidth","padding","paddingRight","marginVertical","alignSelf","flexDirection","justifyContent","margin","paddingTop","textAlign","color","buttonVolver","borderColor"],"sources":["/Users/miranda/Documents/No country/c7-40-m-reactnative/src/screens/Login.js"],"sourcesContent":["import { View, TextInput, StyleSheet, Text, Button, Alert,TouchableHighlight ,Image} from 'react-native';\nimport React ,{ useEffect, useState }from 'react';\nimport ButtonGreen from './Buttons/ButtonGreen';\nimport { userDetails } from '../utils/userDB';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\n// import { useDispatch, useSelector } from 'react-redux';\nimport { Data, LoginData } from '../Redux/Actions';\nimport axios from \"axios\";\n\n\n\nexport default function Login(props) {\n   // const dispatch = useDispatch(); //hook de redux, esto llama a la action osea lo ejecuta\n    const { navigation } = props; //ya lo vimos // destructurin \n    // const {DataUserReducer} = useSelector((state) => state)\n    // console.log('acaaaa',DataUserReducer.users.data.status)\n    // const acceso = DataUserReducer;\n\n\n    const {errors , values , handleSubmit, setFieldValue} = useFormik({\n        initialValues: {\n            email: \"\",\n            password: \"\"\n        },\n        validationSchema: Yup.object({\n                email: Yup.string().email('Su email debe ser valido').required('El email es obligatorio'),\n                password: Yup.string().required('La contraseña es obligatorio')\n        }),\n        onSubmit: (formValue) => {\n                    // dispatch(LoginData(formValue))\n                    // if(DataUserReducer.users){\n                    //     navigation.navigate('Inicio')\n                    // }else{\n                    //     alert('Vuelve a ingresar el email o la contraseña')\n                    // }\n                axios.post('https://tester-server-production.up.railway.app/api/v1/users/login', formValue).then((response) => {\n                  if (response) {\n                    console.log(response.data.status)\n                    if(response.data.status === 'success'){\n                        navigation.navigate(\"Inicio\");\n                    } else {\n                        alert('Vuelva a ingresar la contraseña')\n                    } \n                        \n                  }\n                })\n                .catch((error) => {\n                    console.log('error dispach',error)\n                  navigation.replace(\"Login\");\n                });\n                // if(users.status === \"success\"){\n                //     navigation.navigate(\"Inicio\")\n                // }\n        }\n    })\n\n    \n   \n    //-------LOGIN\n    const [email , useEmail] = useState('')\n    const [password, usePassword] = useState('')\n\n    // const getEmail = (event) => {\n    //     useEmail(event)\n    //     //console.log(email)\n    // }\n    \n    // const getPassword = (event) => {\n    //     usePassword(event)\n    //     // console.log(password)\n    // }\n\n    // const goToInicio= () => {\n    \n    //     if(email === userDetails.username && password === userDetails.password){\n    //         navigation.navigate(\"Inicio\")\n    //     } else {\n    //         alert('vuelva a ingresar email o contraseña')\n    //         return navigation.navigate(\"Login\")\n    //     }\n    \n    // }\n\n    const goBack = () => {\n        navigation.goBack(\"Home\")\n    }\n    \n  return (\n    <View style={styles.container}>\n        <View style={styles.containerForm}>\n            <Text>Email</Text>\n            <TextInput \n            style={ errors.email ? styles.inputError : styles.input }\n            placeholder='Ingresa tu email' \n            keyboardType=\"email-address\" \n            autoCapitalize=\"none\"\n            value={values.email} \n            onChangeText={(text) => setFieldValue('email', text)} />\n            <Text style={styles.textError} >{errors.email}</Text>\n            <Text>Contraseña</Text>\n            <TextInput \n            style={ errors.password ? styles.inputError : styles.input }\n            placeholder='Ingresa tu contraseña' \n            onChangeText={(text) => setFieldValue(\"password\", text)}\n            keyboardType=\"password\"\n            value={values.password} \n            secureTextEntry={true} />   \n            <Text style={styles.textError} >{errors.password}</Text>\n            <View style={styles.button}>\n                <ButtonGreen title=\"Login\" onPress={handleSubmit} text=\"Iniciar Sesión\" />\n            </View>\n            <View style={styles.text}>\n                <Text>Me olvide la Contraseña.</Text>\n            </View>\n        </View>\n    </View>\n  )\n}\n\n// function Handle(datos) {\n//     console.log(datos)\n//     const dispatch = useDispatch();\n//     dispatch(LoginData(datos))\n//     .then((response) => {\n//       if (response.status == \"success\") {\n//         console.log('puede ingresar')\n//         // const {navigation} = props;\n//         // navigation.replace(\"Inicio\");\n//       }\n//     })\n//     .catch((error) => {\n//         console.log(error)\n//     //   navigation.replace(\"Login\");\n//     });\n//     // if(users.status === \"success\"){\n//     //     navigation.navigate(\"Inicio\")\n//     // }\n// }\n\n\n\n\nconst styles = StyleSheet.create({\n    container:{\n    // alignSelf: \"center\",\n        backgroundColor: \"#F7FDFD\",\n        width: \"100%\",\n        flex: 1,\n        //padding: 30,\n        alignContent: \"center\",\n        alignItems: \"center\"\n    },\n    input: {\n        height: 44,\n        width: 286,\n        borderRadius: 3,\n        borderWidth: 0,\n        padding: 10,\n        backgroundColor: \"#DAF4F0\",\n        //paddingLeft: 10,\n        paddingRight: 10,\n        marginVertical: 10,\n    },\n    containerForm: {\n        alignSelf: \"center\",\n        flex: 1,\n       // width: \"100%\",\n        // padding: 24,\n        flexDirection: \"column\",\n        // alignItems: \"flex-start\",    \n        backgroundColor: \"#F7FDFD\",\n        justifyContent: \"center\",\n    },\n    button:{\n        margin: 20,\n        paddingTop: 50\n    },\n    text: {\n        textAlign: \"center\",\n        alignSelf: \"center\",\n        color: \"#F7FDFD\"\n    },\n    buttonVolver: {\n    alignItems: \"flex-end\"\n    },\n    inputError: {\n        height: 44,\n        width: 286,\n        borderRadius: 3,\n        borderWidth: 0,\n        padding: 10,\n        backgroundColor: \"#DAF4F0\",\n        //paddingLeft: 10,\n        paddingRight: 10,\n        marginVertical: 10,\n        borderColor: '#CC5252',\n        borderWidth:1\n    },\n    textError: {\n        color: \"#CC5252\"\n    }\n})"],"mappings":"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"},"metadata":{},"sourceType":"script"}